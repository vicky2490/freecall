(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(41)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),c=a.n(o),s=(a(31),a(32),a(4)),i=a(3),d=(a(33),a(14));var u=function(){return r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"index-menu"},r.a.createElement("div",{className:"index-menu-box"},r.a.createElement(d.a,{to:"/game"},r.a.createElement("button",{className:"start-button"},"START")),r.a.createElement("div",{className:"caption"},"How to play?"))))},l=a(7),m=a(8),p=a(10),g=a(9),v=a(11),f=(a(38),a(1)),h=a.n(f),w=(a(39),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).dragStart=function(e){e.dataTransfer.setData("text/plain",e.target.id);var t=e.target.id;a.props.setSourceContainerId&&a.props.setSourceContainerId(t)},a.getCardImgCssName=function(e,t){var a="";switch(e){case 0:a+="spade-";break;case 1:a+="heart-";break;case 2:a+="club-";break;case 3:a+="diamond-"}return a+=t},a.state={card:[],cardRows:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.querySelectorAll('[draggable="true"]').forEach(function(t){t.addEventListener("dragstart",e.dragStart)})}},{key:"render",value:function(){var e=this.props.cardRows,t=this.getCardImgCssName(e.eachColor,e.num),a=this.props.isLastCard,n=this.props.source,o="drag"===n?this.props.p:"auto",c=this.props.rowIndex;return r.a.createElement("div",{className:"card ".concat(t," top-").concat(o),draggable:Boolean(a),id:"".concat(n,"-").concat(e.eachColor,"-").concat(e.num,"-").concat(c)})}}]),t}(n.Component)),C=(a(40),function(e){function t(e){return Object(l.a)(this,t),Object(p.a)(this,Object(g.a)(t).call(this,e))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isSuccess;return r.a.createElement("div",{className:"bg"},r.a.createElement("div",{className:"show-box"},r.a.createElement("div",{className:"dosply-title"},"TIME"),r.a.createElement("div",{className:"dosply-num"},this.props.time)),r.a.createElement("div",{className:"menu"},t&&r.a.createElement("div",{className:"success"},"Congratulations! You Won the Game."),r.a.createElement("div",{className:"card-spade"}),r.a.createElement("div",{className:"card-heart"}),r.a.createElement("div",{className:"card-club"}),r.a.createElement("button",{onClick:function(){return e.props.newGame()}},"NEW GAME"),r.a.createElement(d.a,{to:"/"},r.a.createElement("button",null,"HOME")),r.a.createElement("button",{onClick:function(){return e.props.exit()}},"EXIT")),r.a.createElement("div",{className:"show-box"},r.a.createElement("div",{className:"dosply-title"},"BEST"),r.a.createElement("div",{className:"dosply-num"},this.props.bestTime)))}}]),t}(n.Component)),E=a(25),b=a.n(E),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).timeCount=function(){e.state.pause||(e.interval=setInterval(function(){var t=e.state.time+1;e.setState({time:t})},1e3))},e.cancelDefault=function(e){return e.preventDefault(),e.stopPropagation(),!1},e.dropped=function(t){console.log("dropped");var a,n,r=t.dataTransfer.getData("text/plain").split("-"),o=r[0],c=r[1],s=r[2],i=r[3],d=h.a.clone(e.state.cardRows),u=h.a.clone(e.state.targetContainer),l=t.target.id.split("-"),m=l[0],p=l[3],g=(n="card"===t.target.className.split(" ")[0]&&"drag"===m?t.target:u["".concat(p)].length>=1?t.target.parentElement:t.target).className.split(" ")[0],v="vacancy-box"===g,f="standard-box"===g,w="card"===g,C=n.className.split(" ")[1];w&&(C=Number(t.target.id.split("-")[1]));var E=!1;switch(C){case"suithearts":E=1===Number(c);break;case"suitdiamonds":E=3===Number(c);break;case"suitclubs":E=2===Number(c);break;case"suitspades":E=0===Number(c)}var b,N,I=!1;switch(Number(C)){case 1:case 3:I=1===Number(c)||3===Number(c);break;case 0:case 2:I=0===Number(c)||2===Number(c)}if(w)b=t.target.id.split("-")[2],N=Number(b)===Number(s)+1;else{var S=h.a.last(u["".concat(p)]);b=S?S.num:0,N=Number(b)===Number(s)-1}var y=t.target.id.split("-")[3],R=h.a.last(d["".concat(y)].content),x=Number(R.eachColor)===Number(C)&&Number(R.num)===Number(b);if(v&&u["".concat(p)].length>=1)e.cancelDefault(t);else if(f&&!E)e.cancelDefault(t);else if(f&&E&&!N)e.cancelDefault(t);else if(w&&!x)e.cancelDefault(t);else if(w&&I)e.cancelDefault(t);else if(!w||I||N){var k,M=Number(e.state.move);M+=1;var L,D,O=i;"drag"===o?(a=d["".concat(i)].content.pop(),k="cardRows"):"dropped"===o&&(a=u["".concat(i)].pop(),k="newTargetContainer"),w?(d["".concat(y)].content.push(a),L="cardRows",D=y):(u["".concat(p)]=u["".concat(p)].concat([a]),L="newTargetContainer",D=p);var T=h.a.clone(e.state.previouslyStep);T.push({sourceArray:k,sourceIndex:O,targetArray:L,targetIndex:D,rowData:a}),e.cancelDefault(t),e.setState({cardRows:d,targetContainer:u,move:M,previouslyStep:T},function(){var t=e.isSuccess();if(t){e.setState({isSuccess:t,pause:!1,openMenu:!0},function(){e.onPause()});var a=window.localStorage,n=a.getItem("best");n?e.state.time<n&&(a.best=e.state.time):a.setItem("best",e.state.time)}})}else e.cancelDefault(t)},e.getBestTime=function(){var t=window.localStorage.getItem("best");return e.showTime(t)},e.replayPreviouslyStep=function(){var t=h.a.clone(e.state.previouslyStep);if(t.length){var a=h.a.last(t),n=a.sourceArray,r=Number(a.sourceIndex),o=a.targetArray,c=Number(a.targetIndex),s=a.rowData,i=h.a.clone(e.state.cardRows),d=h.a.clone(e.state.targetContainer);"cardRows"===o?i["".concat(c)].content.pop():d["".concat(c)].pop(),"cardRows"===n?i["".concat(r)].content.push(s):d["".concat(r)]=d["".concat(r)].concat([s]),t.pop();var u=Number(e.state.move);u-=1,e.setState({cardRows:i,targetContainer:d,previouslyStep:t,move:u})}},e.setSourceContainerId=function(t){e.setState({sourceContainerId:t})},e.showTime=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||e.state.time;return b()().startOf("day").add(t,"second").format("mm:ss")},e.onPause=function(){var t=!Boolean(e.state.pause);e.setState({pause:t},function(){console.log("this.state.pause",e.state.pause),e.state.pause?e.interval&&clearInterval(e.interval):e.timeCount()})},e.startMenu=function(){e.setState({openMenu:!0,pause:!1},function(){e.onPause()})},e.exit=function(){e.setState({openMenu:!1,pause:!0},function(){e.onPause()})},e.initialGame=function(){e.setState({card:[],cardRows:[],sourceContainerId:"",targetContainer:[[],[],[],[],[],[],[],[]],previouslyStep:[],move:"00",time:0,pause:!1,openMenu:!1},function(){e.shuffleAndDealCards(),e.timeCount()})},e.shuffleAndDealCards=function(){for(var t=[],a=[7,7,7,7,6,6,6,6],n=[],r=0;r<52;r++)t.push(r);for(var o=0;o<50;o++){var c=Math.floor(52*Math.random())+1,s=Math.floor(52*Math.random())+1,i=t[c-1];t[c-1]=t[s-1],t[s-1]=i;var d=Math.floor(8*Math.random())+1,u=Math.floor(8*Math.random())+1,l=a[d-1];a[d-1]=a[u-1],a[u-1]=l}for(var m=function(e){var r=a[e],o=h.a.take(t,r);o=h.a.map(o,function(t,a){return{eachColor:Math.floor(t/13),num:(t+1)%13===0?13:(t+1)%13,dataIdex:t,rowIndex:e}}),n.push({row:e+1,content:o}),t=h.a.drop(t,r)},p=0;p<8;p++)m(p);e.setState({card:t,cardRows:n})},e.isSuccess=function(){for(var t=!0,a=e.state.cardRows,n=0;n<a.length;n++){a[n].content.length>0&&(t=!1);break}return t},e.state={card:[],cardRows:[],sourceContainerId:"",targetContainer:[[],[],[],[],[],[],[],[]],previouslyStep:[],move:"00",time:0,pause:!1,openMenu:!1,isSuccess:!1},e}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.querySelectorAll('[data-role="drag-drop-container"]').forEach(function(t){t.addEventListener("drop",e.dropped),t.addEventListener("dragenter",e.cancelDefault),t.addEventListener("dragover",e.cancelDefault)}),this.timeCount()}},{key:"componentWillMount",value:function(){this.shuffleAndDealCards()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"game-wrap"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},"FREECELL"),r.a.createElement("div",{className:"count-bar"},r.a.createElement("div",{className:"count-time-move"},"TIME:"),r.a.createElement("div",{className:"count-time-move count-num"},this.showTime()),r.a.createElement("div",{className:"count-time-move"},"MOVE:"),r.a.createElement("div",{className:"count-time-move count-num"},this.state.move))),r.a.createElement("div",{className:this.state.openMenu?"content blurry":"content"},r.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-0","data-role":"drag-drop-container"},this.state.targetContainer[0].map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:0,source:"dropped",isLastCard:e.state.targetContainer[0].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-1","data-role":"drag-drop-container"},this.state.targetContainer[1].map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:1,source:"dropped",isLastCard:e.state.targetContainer[1].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-2","data-role":"drag-drop-container"},this.state.targetContainer[2].map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:2,source:"dropped",isLastCard:e.state.targetContainer[2].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-3","data-role":"drag-drop-container"},this.state.targetContainer[3].map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:3,source:"dropped",isLastCard:e.state.targetContainer[3].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"standard-box suithearts",id:"dropped-target-container-4","data-role":"drag-drop-container"},this.state.targetContainer[4].map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:4,source:"dropped",isLastCard:e.state.targetContainer[4].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"standard-box suitdiamonds",id:"dropped-target-container-5","data-role":"drag-drop-container"},this.state.targetContainer[5].map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:5,source:"dropped",isLastCard:e.state.targetContainer[5].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"standard-box suitclubs",id:"dropped-target-container-6","data-role":"drag-drop-container"},this.state.targetContainer[6].map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:6,source:"dropped",isLastCard:e.state.targetContainer[6].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"standard-box suitspades",id:"dropped-target-container-7","data-role":"drag-drop-container"},this.state.targetContainer[7].map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:7,source:"dropped",isLastCard:e.state.targetContainer[7].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},h.a.get(this.state.cardRows[0],"content",[]).map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:0,source:"drag",isLastCard:e.state.cardRows[0].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},h.a.get(this.state.cardRows[1],"content",[]).map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:1,source:"drag",isLastCard:e.state.cardRows[1].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},h.a.get(this.state.cardRows[2],"content",[]).map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:2,source:"drag",isLastCard:e.state.cardRows[2].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},h.a.get(this.state.cardRows[3],"content",[]).map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:3,source:"drag",isLastCard:e.state.cardRows[3].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},h.a.get(this.state.cardRows[4],"content",[]).map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:4,source:"drag",isLastCard:e.state.cardRows[4].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},h.a.get(this.state.cardRows[5],"content",[]).map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:5,source:"drag",isLastCard:e.state.cardRows[5].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},h.a.get(this.state.cardRows[6],"content",[]).map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:6,source:"drag",isLastCard:e.state.cardRows[6].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},h.a.get(this.state.cardRows[7],"content",[]).map(function(t,a){return r.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:7,source:"drag",isLastCard:e.state.cardRows[7].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),r.a.createElement("div",{className:"game-menu"},r.a.createElement("div",{className:this.state.openMenu?"material-icons setting work-Setting":"material-icons setting",onClick:function(){return e.startMenu()}},"power_settings_new"),r.a.createElement("div",{className:this.state.pause?"material-icons setting work-Setting":"material-icons setting",onClick:function(){return e.onPause()}},"pause"),r.a.createElement("div",{className:"menu-btn-box"},r.a.createElement("button",{className:"menu-btn replay",onClick:function(){return e.replayPreviouslyStep()}},"UNDO"),r.a.createElement("div",{className:"card-spade"}),r.a.createElement("div",{className:"card-heart"}),r.a.createElement("div",{className:"card-club"})),r.a.createElement("div",{className:"material-icons setting replay",onClick:function(){return e.replayPreviouslyStep()}},"replay"),r.a.createElement("div",{className:"material-icons setting"},"help_outline"))),this.state.openMenu&&r.a.createElement(C,{exit:function(){return e.exit()},newGame:function(){return e.initialGame()},isSuccess:this.state.isSuccess,time:this.showTime(),bestTime:this.getBestTime()}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=Object(i.b)();c.a.render(r.a.createElement(s.b,{history:I},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:u}),r.a.createElement(s.a,{path:"/game",component:N}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.7faa097e.chunk.js.map