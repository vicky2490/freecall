(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(41)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(22),c=a.n(o),s=(a(31),a(32),a(4)),i=a(3),d=(a(33),a(14));var u=function(){return n.a.createElement("div",{className:"wrap"},n.a.createElement("div",{className:"index-menu"},n.a.createElement("div",{className:"index-menu-box"},n.a.createElement(d.a,{to:"/game"},n.a.createElement("button",{className:"start-button"},"START")),n.a.createElement("div",{className:"caption"},"How to play?"))))},l=a(7),m=a(8),p=a(10),g=a(9),v=a(11),f=(a(38),a(1)),w=a.n(f),h=(a(39),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).dragStart=function(e){e.dataTransfer.setData("text/plain",e.target.id);var t=e.target.id;a.props.setSourceContainerId&&a.props.setSourceContainerId(t)},a.getCardImgCssName=function(e,t){var a="";switch(e){case 0:a+="spade-";break;case 1:a+="heart-";break;case 2:a+="club-";break;case 3:a+="diamond-"}return a+=t},a.state={card:[],cardRows:[]},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.querySelectorAll('[draggable="true"]').forEach(function(t){t.addEventListener("dragstart",e.dragStart)})}},{key:"render",value:function(){var e=this.props.cardRows,t=this.getCardImgCssName(e.eachColor,e.num),a=this.props.isLastCard,r=this.props.source,o="drag"===r?this.props.p:"auto",c=this.props.rowIndex;return n.a.createElement("div",{className:"card ".concat(t," top-").concat(o),draggable:Boolean(a),id:"".concat(r,"-").concat(e.eachColor,"-").concat(e.num,"-").concat(c)})}}]),t}(r.Component)),C=(a(40),function(e){function t(e){return Object(l.a)(this,t),Object(p.a)(this,Object(g.a)(t).call(this,e))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"bg"},n.a.createElement("div",{className:"menu"},n.a.createElement("div",{className:"card-spade"}),n.a.createElement("div",{className:"card-heart"}),n.a.createElement("div",{className:"card-club"}),n.a.createElement("button",{onClick:function(){return e.props.newGame()}},"NEW GAME"),n.a.createElement(d.a,{to:"/"},n.a.createElement("button",null,"HOME")),n.a.createElement("button",{onClick:function(){return e.props.exit()}},"EXIT")))}}]),t}(r.Component)),E=a(25),b=a.n(E),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).timeCount=function(){e.state.pause||(e.interval=setInterval(function(){var t=e.state.time+1;e.setState({time:t})},1e3))},e.cancelDefault=function(e){return e.preventDefault(),e.stopPropagation(),!1},e.dropped=function(t){console.log("dropped");var a,r,n=t.dataTransfer.getData("text/plain").split("-"),o=n[0],c=n[1],s=n[2],i=n[3],d=w.a.clone(e.state.cardRows),u=w.a.clone(e.state.targetContainer),l=t.target.id.split("-"),m=l[0],p=l[3],g=(r="card"===t.target.className.split(" ")[0]&&"drag"===m?t.target:u["".concat(p)].length>=1?t.target.parentElement:t.target).className.split(" ")[0],v="vacancy-box"===g,f="standard-box"===g,h="card"===g,C=r.className.split(" ")[1];h&&(C=Number(t.target.id.split("-")[1]));var E=!1;switch(C){case"suithearts":E=1===Number(c);break;case"suitdiamonds":E=3===Number(c);break;case"suitclubs":E=2===Number(c);break;case"suitspades":E=0===Number(c)}var b,N,I=!1;switch(Number(C)){case 1:case 3:I=1===Number(c)||3===Number(c);break;case 0:case 2:I=0===Number(c)||2===Number(c)}if(h)b=t.target.id.split("-")[2],N=Number(b)===Number(s)+1;else{var S=w.a.last(u["".concat(p)]);b=S?S.num:0,N=Number(b)===Number(s)-1}var y=t.target.id.split("-")[3],R=w.a.last(d["".concat(y)].content),x=Number(R.eachColor)===Number(C)&&Number(R.num)===Number(b);if(v&&u["".concat(p)].length>=1)e.cancelDefault(t);else if(f&&!E)e.cancelDefault(t);else if(f&&E&&!N)e.cancelDefault(t);else if(h&&!x)e.cancelDefault(t);else if(h&&I)e.cancelDefault(t);else if(!h||I||N){var k,M=Number(e.state.move);M+=1;var L,O,D=i;"drag"===o?(a=d["".concat(i)].content.pop(),k="cardRows"):"dropped"===o&&(a=u["".concat(i)].pop(),k="newTargetContainer"),h?(d["".concat(y)].content.push(a),L="cardRows",O=y):(u["".concat(p)]=u["".concat(p)].concat([a]),L="newTargetContainer",O=p);var j=w.a.clone(e.state.previouslyStep);j.push({sourceArray:k,sourceIndex:D,targetArray:L,targetIndex:O,rowData:a}),e.cancelDefault(t),e.setState({cardRows:d,targetContainer:u,move:M,previouslyStep:j})}else e.cancelDefault(t)},e.replayPreviouslyStep=function(){var t=w.a.clone(e.state.previouslyStep);if(t.length){var a=w.a.last(t),r=a.sourceArray,n=Number(a.sourceIndex),o=a.targetArray,c=Number(a.targetIndex),s=a.rowData,i=w.a.clone(e.state.cardRows),d=w.a.clone(e.state.targetContainer);"cardRows"===o?i["".concat(c)].content.pop():d["".concat(c)].pop(),"cardRows"===r?i["".concat(n)].content.push(s):d["".concat(n)]=d["".concat(n)].concat([s]),t.pop();var u=Number(e.state.move);u-=1,e.setState({cardRows:i,targetContainer:d,previouslyStep:t,move:u})}},e.setSourceContainerId=function(t){e.setState({sourceContainerId:t})},e.showTime=function(){return b()().startOf("day").add(e.state.time,"second").format("mm:ss")},e.onPause=function(){var t=!Boolean(e.state.pause);e.setState({pause:t},function(){console.log("this.state.pause",e.state.pause),e.state.pause?e.interval&&clearInterval(e.interval):e.timeCount()})},e.startMenu=function(){e.setState({openMenu:!0})},e.exit=function(){e.setState({openMenu:!1})},e.newGame=function(){e.setState({card:[],cardRows:[],sourceContainerId:"",targetContainer:[[],[],[],[],[],[],[],[]],previouslyStep:[],move:"00",time:0,pause:!1,openMenu:!1});for(var t=[],a=[7,7,7,7,6,6,6,6],r=[],n=0;n<52;n++)t.push(n);for(var o=0;o<50;o++){var c=Math.floor(52*Math.random())+1,s=Math.floor(52*Math.random())+1,i=t[c-1];t[c-1]=t[s-1],t[s-1]=i;var d=Math.floor(8*Math.random())+1,u=Math.floor(8*Math.random())+1,l=a[d-1];a[d-1]=a[u-1],a[u-1]=l}for(var m=function(e){var n=a[e],o=w.a.take(t,n);o=w.a.map(o,function(t,a){return{eachColor:Math.floor(t/13),num:(t+1)%13===0?13:(t+1)%13,dataIdex:t,rowIndex:e}}),r.push({row:e+1,content:o}),t=w.a.drop(t,n)},p=0;p<8;p++)m(p);e.setState({card:t,cardRows:r})},e.state={card:[],cardRows:[],sourceContainerId:"",targetContainer:[[],[],[],[],[],[],[],[]],previouslyStep:[],move:"00",time:0,pause:!1,openMenu:!1},e}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.querySelectorAll('[data-role="drag-drop-container"]').forEach(function(t){t.addEventListener("drop",e.dropped),t.addEventListener("dragenter",e.cancelDefault),t.addEventListener("dragover",e.cancelDefault)}),this.timeCount()}},{key:"componentWillMount",value:function(){this.newGame()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"game-wrap"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"title"},"FREECELL"),n.a.createElement("div",{className:"count-bar"},n.a.createElement("div",{className:"count-time-move"},"TIME:"),n.a.createElement("div",{className:"count-time-move count-num"},this.showTime()),n.a.createElement("div",{className:"count-time-move"},"MOVE:"),n.a.createElement("div",{className:"count-time-move count-num"},this.state.move))),n.a.createElement("div",{className:this.state.openMenu?"content blurry":"content"},n.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-0","data-role":"drag-drop-container"},this.state.targetContainer[0].map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:0,source:"dropped",isLastCard:e.state.targetContainer[0].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-1","data-role":"drag-drop-container"},this.state.targetContainer[1].map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:1,source:"dropped",isLastCard:e.state.targetContainer[1].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-2","data-role":"drag-drop-container"},this.state.targetContainer[2].map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:2,source:"dropped",isLastCard:e.state.targetContainer[2].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-3","data-role":"drag-drop-container"},this.state.targetContainer[3].map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:3,source:"dropped",isLastCard:e.state.targetContainer[3].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"standard-box suithearts",id:"dropped-target-container-4","data-role":"drag-drop-container"},this.state.targetContainer[4].map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:4,source:"dropped",isLastCard:e.state.targetContainer[4].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"standard-box suitdiamonds",id:"dropped-target-container-5","data-role":"drag-drop-container"},this.state.targetContainer[5].map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:5,source:"dropped",isLastCard:e.state.targetContainer[5].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"standard-box suitclubs",id:"dropped-target-container-6","data-role":"drag-drop-container"},this.state.targetContainer[6].map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:6,source:"dropped",isLastCard:e.state.targetContainer[6].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"standard-box suitspades",id:"dropped-target-container-7","data-role":"drag-drop-container"},this.state.targetContainer[7].map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:7,source:"dropped",isLastCard:e.state.targetContainer[7].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},w.a.get(this.state.cardRows[0],"content",[]).map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:0,source:"drag",isLastCard:e.state.cardRows[0].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},w.a.get(this.state.cardRows[1],"content",[]).map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:1,source:"drag",isLastCard:e.state.cardRows[1].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},w.a.get(this.state.cardRows[2],"content",[]).map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:2,source:"drag",isLastCard:e.state.cardRows[2].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},w.a.get(this.state.cardRows[3],"content",[]).map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:3,source:"drag",isLastCard:e.state.cardRows[3].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},w.a.get(this.state.cardRows[4],"content",[]).map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:4,source:"drag",isLastCard:e.state.cardRows[4].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},w.a.get(this.state.cardRows[5],"content",[]).map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:5,source:"drag",isLastCard:e.state.cardRows[5].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},w.a.get(this.state.cardRows[6],"content",[]).map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:6,source:"drag",isLastCard:e.state.cardRows[6].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},w.a.get(this.state.cardRows[7],"content",[]).map(function(t,a){return n.a.createElement(h,{key:a,cardRows:t,p:a,rowIndex:7,source:"drag",isLastCard:e.state.cardRows[7].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"game-menu"},n.a.createElement("div",{className:this.state.openMenu?"material-icons setting work-Setting":"material-icons setting",onClick:function(){return e.startMenu()}},"power_settings_new"),n.a.createElement("div",{className:this.state.pause?"material-icons setting work-Setting":"material-icons setting",onClick:function(){return e.onPause()}},"pause"),n.a.createElement("button",{className:"menu-btn replay",onClick:function(){return e.replayPreviouslyStep()}},"UNDO"),n.a.createElement("div",{className:"material-icons setting replay",onClick:function(){return e.replayPreviouslyStep()}},"replay"),n.a.createElement("div",{className:"material-icons setting"},"help_outline"))),this.state.openMenu&&n.a.createElement(C,{exit:function(){return e.exit()},newGame:function(){return e.newGame()}}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=Object(i.b)();c.a.render(n.a.createElement(s.b,{history:I},n.a.createElement(s.c,null,n.a.createElement(s.a,{exact:!0,path:"/",component:u}),n.a.createElement(s.a,{path:"/game",component:N}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.d3269b14.chunk.js.map