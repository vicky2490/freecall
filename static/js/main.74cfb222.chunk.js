(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(21),c=a.n(o),s=(a(31),a(32),a(3)),d=a(2),i=(a(33),a(22));var u=function(){return n.a.createElement("div",{className:"wrap"},n.a.createElement("div",{className:"index-menu"},n.a.createElement("div",{className:"index-menu-box"},n.a.createElement(i.a,{to:"/game"},n.a.createElement("button",{className:"start-button"},"START")),n.a.createElement("div",{className:"caption"},"How to play?"))))},l=a(9),m=a(10),p=a(12),g=a(11),f=a(13),h=(a(38),a(6)),v=a.n(h),w=(a(39),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).dragStart=function(e){e.dataTransfer.setData("text/plain",e.target.id);var t=e.target.id;a.props.setSourceContainerId&&a.props.setSourceContainerId(t)},a.getCardImgCssName=function(e,t){var a="";switch(e){case 0:a+="spade-";break;case 1:a+="heart-";break;case 2:a+="club-";break;case 3:a+="diamond-"}return a+=t},a.state={card:[],cardRows:[]},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.querySelectorAll('[draggable="true"]').forEach(function(t){t.addEventListener("dragstart",e.dragStart)})}},{key:"render",value:function(){var e=this.props.cardRows,t=this.getCardImgCssName(e.eachColor,e.num),a=this.props.isLastCard,r=this.props.source,o="drag"===r?this.props.p:"auto",c=this.props.rowIndex;return n.a.createElement("div",{className:"card ".concat(t," top-").concat(o),draggable:Boolean(a),id:"".concat(r,"-").concat(e.eachColor,"-").concat(e.num,"-").concat(c)})}}]),t}(r.Component)),C=a(25),E=a.n(C),b=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(g.a)(t).call(this))).cancelDefault=function(e){return e.preventDefault(),e.stopPropagation(),!1},e.dropped=function(t){console.log("dropped");var a,r,n=t.dataTransfer.getData("text/plain").split("-"),o=n[0],c=n[1],s=n[2],d=n[3],i=v.a.clone(e.state.cardRows),u=v.a.clone(e.state.targetContainer),l=t.target.id.split("-"),m=l[0],p=l[3],g=(r="card"===t.target.className.split(" ")[0]&&"drag"===m?t.target:u["".concat(p)].length>=1?t.target.parentElement:t.target).className.split(" ")[0],f="vacancy-box"===g,h="standard-box"===g,w="card"===g,C=r.className.split(" ")[1];w&&(C=Number(t.target.id.split("-")[1]));var E=!1;switch(C){case"suithearts":E=1===Number(c);break;case"suitdiamonds":E=3===Number(c);break;case"suitclubs":E=2===Number(c);break;case"suitspades":E=0===Number(c)}var b,N,I=!1;switch(Number(C)){case 1:case 3:I=1===Number(c)||3===Number(c);break;case 0:case 2:I=0===Number(c)||2===Number(c)}if(w)b=t.target.id.split("-")[2],N=Number(b)===Number(s)+1;else{var S=v.a.last(u["".concat(p)]);b=S?S.num:0,N=Number(b)===Number(s)-1}var R=t.target.id.split("-")[3],x=v.a.last(i["".concat(R)].content),y=Number(x.eachColor)===Number(C)&&Number(x.num)===Number(b);if(f&&u["".concat(p)].length>=1)e.cancelDefault(t);else if(h&&!E)e.cancelDefault(t);else if(h&&E&&!N)e.cancelDefault(t);else if(w&&!y)e.cancelDefault(t);else if(w&&I)e.cancelDefault(t);else if(!w||I||N){var k=Number(e.state.move);k+=1,"drag"===o?a=i["".concat(d)].content.pop():"dropped"===o&&(a=u["".concat(d)].pop()),w?i["".concat(R)].content.push(a):u["".concat(p)]=u["".concat(p)].concat([a]),e.cancelDefault(t),e.setState({cardRows:i,targetContainer:u,move:k})}else e.cancelDefault(t)},e.setSourceContainerId=function(t){e.setState({sourceContainerId:t})},e.showTime=function(){return E()().startOf("day").add(e.state.time,"second").format("mm:ss")},e.state={card:[],cardRows:[],sourceContainerId:"",targetContainer:[[],[],[],[],[],[],[],[]],move:"00",time:0},e.interval=setInterval(function(){var t=e.state.time+1;e.setState({time:t})},1e3),e}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.querySelectorAll('[data-role="drag-drop-container"]').forEach(function(t){t.addEventListener("drop",e.dropped),t.addEventListener("dragenter",e.cancelDefault),t.addEventListener("dragover",e.cancelDefault)})}},{key:"componentWillMount",value:function(){for(var e=[],t=[7,7,7,7,6,6,6,6],a=[],r=0;r<52;r++)e.push(r);for(var n=0;n<50;n++){var o=Math.floor(52*Math.random())+1,c=Math.floor(52*Math.random())+1,s=e[o-1];e[o-1]=e[c-1],e[c-1]=s;var d=Math.floor(8*Math.random())+1,i=Math.floor(8*Math.random())+1,u=t[d-1];t[d-1]=t[i-1],t[i-1]=u}for(var l=function(r){var n=t[r],o=v.a.take(e,n);o=v.a.map(o,function(e,t){return{eachColor:Math.floor(e/13),num:(e+1)%13===0?13:(e+1)%13,dataIdex:e,rowIndex:r}}),a.push({row:r+1,content:o}),e=v.a.drop(e,n)},m=0;m<8;m++)l(m);this.setState({card:e,cardRows:a})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"game-wrap"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"title"},"FREECELL"),n.a.createElement("div",{className:"count-bar"},n.a.createElement("div",{className:"count-time-move"},"TIME:"),n.a.createElement("div",{className:"count-time-move count-num"},this.showTime()),n.a.createElement("div",{className:"count-time-move"},"MOVE:"),n.a.createElement("div",{className:"count-time-move count-num"},this.state.move))),n.a.createElement("div",{className:"context"},n.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-0","data-role":"drag-drop-container"},this.state.targetContainer[0].map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:0,source:"dropped",isLastCard:e.state.targetContainer[0].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-1","data-role":"drag-drop-container"},this.state.targetContainer[1].map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:1,source:"dropped",isLastCard:e.state.targetContainer[1].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-2","data-role":"drag-drop-container"},this.state.targetContainer[2].map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:2,source:"dropped",isLastCard:e.state.targetContainer[2].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"vacancy-box",id:"dropped-target-container-3","data-role":"drag-drop-container"},this.state.targetContainer[3].map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:3,source:"dropped",isLastCard:e.state.targetContainer[3].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"standard-box suithearts",id:"dropped-target-container-4","data-role":"drag-drop-container"},this.state.targetContainer[4].map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:4,source:"dropped",isLastCard:e.state.targetContainer[4].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"standard-box suitdiamonds",id:"dropped-target-container-5","data-role":"drag-drop-container"},this.state.targetContainer[5].map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:5,source:"dropped",isLastCard:e.state.targetContainer[5].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"standard-box suitclubs",id:"dropped-target-container-6","data-role":"drag-drop-container"},this.state.targetContainer[6].map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:6,source:"dropped",isLastCard:e.state.targetContainer[6].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"standard-box suitspades",id:"dropped-target-container-7","data-role":"drag-drop-container"},this.state.targetContainer[7].map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:7,source:"dropped",isLastCard:e.state.targetContainer[7].length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},this.state.cardRows[0].content.map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:0,source:"drag",isLastCard:e.state.cardRows[0].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},this.state.cardRows[1].content.map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:1,source:"drag",isLastCard:e.state.cardRows[1].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},this.state.cardRows[2].content.map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:2,source:"drag",isLastCard:e.state.cardRows[2].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},this.state.cardRows[3].content.map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:3,source:"drag",isLastCard:e.state.cardRows[3].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},this.state.cardRows[4].content.map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:4,source:"drag",isLastCard:e.state.cardRows[4].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},this.state.cardRows[5].content.map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:5,source:"drag",isLastCard:e.state.cardRows[5].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},this.state.cardRows[6].content.map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:6,source:"drag",isLastCard:e.state.cardRows[6].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"card-row","data-role":"drag-drop-container"},this.state.cardRows[7].content.map(function(t,a){return n.a.createElement(w,{key:a,cardRows:t,p:a,rowIndex:7,source:"drag",isLastCard:e.state.cardRows[7].content.length===a+1,setSourceContainerId:function(t){return e.setSourceContainerId(t)}})})),n.a.createElement("div",{className:"game-menu"},n.a.createElement("div",{className:"material-icons setting"},"power_settings_new"),n.a.createElement("div",{className:"material-icons setting"},"pause"),n.a.createElement("button",{className:"menu-btn"},"UNDO"),n.a.createElement("div",{className:"material-icons setting"},"replay"),n.a.createElement("div",{className:"material-icons setting"},"help_outline"))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=Object(d.b)();c.a.render(n.a.createElement(s.b,{history:N},n.a.createElement(s.c,null,n.a.createElement(s.a,{exact:!0,path:"/",component:u}),n.a.createElement(s.a,{path:"/game",component:b}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.74cfb222.chunk.js.map